<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Info Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
    }
    label {
      display: inline-block;
      width: 60px;
    }
    input {
      padding: 6px;
      margin-bottom: 10px;
    }
    #nameError {
      color: red;
      font-size: 14px;
      margin-left: 10px;
    }
    #myDiv {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
    }
    button {
      margin-right: 10px;
      padding: 6px 12px;
    }
  </style>
</head>
<body>

  <h2>Student Info Form</h2>

  <form>
    <label>Name: </label>
    <input type="text" id="nameInput" required onblur="checkName()">
    <span id="nameError"></span><br><br>

    <label>Role: </label>
    <input type="text" id="roleInput" required><br><br>

    <button type="button" onclick="saveInfo()">Save Info</button>
    <button type="button" onclick="showInfo()">Show Hidden Data</button>
  </form>

  <div id="myDiv">Student Info will appear here.</div>

  <script>
    // Step 2 – Validation with checkValidity
    function checkName() {
      let nameField = document.getElementById("nameInput");
      if (!nameField.checkValidity()) {
        document.getElementById("nameError").innerHTML = nameField.validationMessage;
      } else {
        document.getElementById("nameError").innerHTML = "";
      }
    }

    // Step 3 – Store info using setAttribute
    function saveInfo() {
      let name = document.getElementById("nameInput").value;
      let role = document.getElementById("roleInput").value;

      if (name && role) {
        // store hidden attribute
        document.getElementById("myDiv")
          .setAttribute("data-info", name + " - " + role);

        // show result visually
        document.getElementById("myDiv").innerHTML =
          "Saved: " + name + " (" + role + ")";
      }
    }

    // Step 4 – Retrieve info using getAttribute
    function showInfo() {
      let info = document.getElementById("myDiv").getAttribute("data-info");
      if (info) {
        alert("Hidden Data: " + info);
        console.log("Hidden Data:", info);
      } else {
        alert("No data saved yet!");
      }
    }
  </script>

</body>
</html>
